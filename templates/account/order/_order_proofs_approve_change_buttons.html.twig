{# {% if order.status in ['PROOF_UPLOADED', 'CHANGES_REQUESTED'] and order.isProofApprovedBefore() %}
    <div class="alert alert-warning alert-dismissible fade show text-center my-3" id="revisionAlert" role="alert" data-auto-dismiss="60000">
        You can request up to 3 revisions. A $10 fee will apply for each additional revision beyond that.
        <br>
        <strong>Current request count:</strong>
        {% if order.isProofApprovedBefore %}
            {{ order.getProofRequestChangeCountAfterApproval() }}
        {% else %}
            {{ order.getProofRequestChangeCountBeforeApproval() }}
        {% endif %}
        <br>
        <small>
            If you have any query, please email us at 
            <a href="mailto:{{storeInfo.storeSupportEmail}}" class="text-decoration-underline">{{storeInfo.storeSupportEmail}}</a> 
            or call now at 
            <a href="tel:1-877-958-1499" class="text-decoration-underline">1-877-958-1499</a>.
        </small>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
{% endif %} #}


{% if order.status in ['RECEIVED', 'PROOF_UPLOADED', 'CHANGES_REQUESTED', 'DESIGNER_ASSIGNED'] %}
<div class="d-flex justify-content-center align-items-center proof-button-container my-3 gap-2">
    {% set lastProof = order.orderMessages|last %}
    {% if lastProof.isBlank is defined and lastProof.isBlank %}
        <span 
                id="order-proof-approve-popover"
                data-bs-html="true"
                tabindex="0"
                data-bs-toggle="popover"
                data-bs-placement="top"
                data-bs-trigger="hover focus"
                data-bs-custom-class="order-proof-approve-popover"
                data-bs-content='Please Request Changes to provide your design file so that we can update your proof for your review. For questions please call <a href="tel:8779581499">877-958-1499</a>, email <a href="mailto:sales@yardsignplus.com">sales@yardsignplus.com</a>, or message us on our <a href="javascript:void(Tawk_API.toggle())" class="text-decoration-none ysp-purple display-inline-block"> Live Chat</a>.'
            >
                <a href="{{ url('order_proof_approve', {oid: order.orderId}) }}" class="btn {% if order.status != 'PROOF_UPLOADED' or (lastProof.isBlank) %}disabled btn-dark{% else %}btn-success{% endif %} btn-lg mx-2">
                    {% if order.paymentStatus != 'COMPLETED' %} Approve Order & Complete Payment {% else %} Approve Proof {% endif %}
                </a>
            </span>
    {% else %}
        <a href="{{ url('order_proof_approve', {oid: order.orderId}) }}" class="btn {% if order.status != 'PROOF_UPLOADED' %}disabled btn-dark{% else %}btn-success{% endif %} btn-lg mx-2">
            {% if order.paymentStatus != 'COMPLETED' %} Approve Order & Complete Payment {% else %} Approve Proof {% endif %}
        </a>
    {% endif %}

    <button class="btn btn-danger {% if order.status != 'PROOF_UPLOADED' %}disabled btn-dark mt-2 mt-md-0{% else %}btn-danger req-change{% endif %} btn-lg mx-2" type="button" data-bs-toggle="collapse"
            data-bs-target="#request-changes-component-collapse" aria-expanded="false"
            aria-controls="request-changes-component-collapse">
        Request Changes
    </button>
</div>
{% endif %}