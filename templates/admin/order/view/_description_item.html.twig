{% if item is defined %}
    <button class="badge badge-pill fw-bold bg-primary text-white text-decoration-none border-0" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasCommentItem_{{ item.id }}" aria-controls="offcanvasCommentItem_{{ item.id }}">
        Edit
    </button>
    {% if is_granted('order_item_remove') %}
        <a href="{{ url('admin_order_item_remove', {orderId: order.orderId, itemId: item.id, status: item.itemType}) }}" class="badge text-bg-danger text-decoration-none" onclick="return confirm('Are you sure you want to delete this item?')">
            <i class="fa fa-trash me-1"></i> Delete
        </a>
    {% endif %}
{% else %}
    <button class="btn btn-sm btn-primary" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasCommentItem" aria-controls="offcanvasCommentItem">
        ADD COMMENT
    </button>
{% endif %}

{% component BootstrapOffCanvas with { id: 'offcanvasCommentItem' ~ (item is defined ? '_' ~ item.id : '') } %}
    {% block offcanvas_header %} ADD COMMENT {{ order.orderId }} {% endblock %}
    {% block offcanvas_body %}
        {{ component('AddOrEditItemCommentForm', {
            order: order,
            orderItem: item ?? null
        }) }}
    {% endblock %}
{% endcomponent %}