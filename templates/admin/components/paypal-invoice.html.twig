<div {{ attributes }}>
	{{ form_start(form, {attr: {
            'novalidate': true,
            'data-action': 'live#action:prevent',
            'data-live-action-param': 'save'
        }}) }}
    {{ form_errors(form) }}
    {% if isSuccessful %}
        {{ include('components/_flash.html.twig',{
            flashError:flashError,
            flashMessage:flashMessage
        })}}
    {% endif %}
    <div class="row mb-3">
        <div class="col-12 col-md-4">
            {{ form_row(form.invoiceNumber) }}
        </div>
        <div class="bg-light p-3 rounded mb-3">
            <h6>Customer Information</h6>
            <div class="row">
                <div class="col-12 col-md-6">
                    {{ form_row(form.firstName) }}
                </div>
                <div class="col-12 col-md-6">
                    {{ form_row(form.lastName) }}
                </div>
                <div class="col-12">
                    {{ form_row(form.email) }}
                </div>
            </div>
        </div>

        <div class="bg-light p-3 rounded mb-3">
            <h6>Product Information</h6>
                {% for key, item in form.items %}
                    <div class="row">
                        <div class="col-4 col-md-4">
                            {{ form_row(item.itemName) }}
                        </div>
                        <div class="col-4 col-md-4">
                            {{ form_row(item.itemQuantity) }}
                        </div>
                        <div class="col-3">
                            {{ form_row(item.itemPrice) }}
                        </div>
                        <div class="col-1">
                            <lable class="form-label">remove</lable>
                            {{ form_widget(item.vars.button_delete) }}
                        </div>
                        <div class="col-12">
                            {{ form_row(item.itemDescription) }}
                        </div>
                    </div>
                    {% else %}
                    <div class="small text-danger no-alias mb-2">
                        No items added. You can add by clicking "Add Items"
                    </div>
                {% endfor %}
                {{ form_widget(form.items.vars.button_add) }}
                {{ form_errors(form.items) }}
        </div>

        <div class="form-group mb-sm-0 form-group-submit text-center">
            <button type="submit" data-loading="action(save)|addAttribute(disabled)" class="btn btn-primary btn-block ysp-account-submit-btn" {{ this.hasValidationErrors ? 'disabled' : '' }}>
                <span data-loading="action(save)|show" style="display: none">Creating Invoice...</span>
                <span data-loading="action(save)|hide" style="display: block">Create Invoice</span>
            </button>
        </div>
    <div>
	{{ form_end(form) }}
</div>
